<h1 class=text-center>Manage Users</h1>
<div class="row">
  <div class="col-md-4 users">
    <h3>Users</h3>
    <ul class="list-group">
      <% @users.each do |user| %>
        <% unless user == current_user %>
          <li class="list-group-item"><%= user.first_name %></li>
        <% end %>
      <% end %>
    </ul>
  </div>


  <!-- List has to be fixed, its not properly nested atm -->
  <div class="col-md-8 permissions">
    <h3 class="text-center">Permissions</h3>
    <% @users.each do |user| %>
      <% unless user == current_user %>
        <div class="list-group" id="permission-list-user-<%= user.id %>">
          <p class="list-group-item-heading">
            <span class="user-name"><%= user.first_name %> <%= user.position %></span>
            <!-- Add permission button -->
            <button type="button" class="btn btn-success permission-add glyphicon glyphicon-plus" id="add-permission-modal-button" data-toggle="modal" data-target="#addPermissionModal"></button>
            <%= render 'permissions/add_permission_modal', user: user %>
          </p>

          <% user.permissions.each do |permission| %>
            <% unless permission.id == nil %>
              <%= render 'permissions/permission_list_item', permission: permission, user: user %>
            <% end %>
          <% end %>
        </div>
      <% end %>
    <% end %>
  </div>
</div>